<ion-header>
  <ion-navbar color="primary">

    <ion-buttons left>
      <button ion-button icon-only (click)="openProfileModal()">
        <ion-icon name="contact"></ion-icon>
      </button>
    </ion-buttons>  
    
    <ion-title text-center>PUENTE</ion-title>

    <ion-buttons right>
      <button ion-button icon-only (click)="signout()">
        <ion-icon name="log-out"></ion-icon>
      </button>
    </ion-buttons>

  </ion-navbar>
</ion-header>

<ion-content class="home-content">
    <ion-refresher (ionRefresh)="doRefresh($event)">
      <ion-refresher-content 
        pullingIcon="arrow-dropdown"
        pullingText="Pull to Refresh Survey Results"
        refreshingSpinner="circles"
        refreshingText="Refreshing...">
      </ion-refresher-content>
    </ion-refresher>
  
    <!--Demographics DONE-->
    <ion-card>
        <ion-card-header color="primary-light">
          Demographics
        </ion-card-header>
        <ion-item>
          <ion-label floating>1. First Name | Nombre</ion-label>
          <ion-input type="text" [(ngModel)]="newSurvey.fname"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>2. Last Name | Apellido</ion-label>
          <ion-input type="text" [(ngModel)]="newSurvey.lname"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label>3. Date of Birth | Fecha de Nacimiento</ion-label>
          <ion-datetime displayFormat="MM/DD/YYYY" [(ngModel)]="newSurvey.dob"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label>4. Sex | Sexo</ion-label>
          <ion-select [(ngModel)]="newSurvey.sex" interface ='popover'>
              <ion-option value="Male"> Male | Varon </ion-option>
              <ion-option value="Female"> Female | Hembra </ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label floating>5. Telephone Number | Numero de telefono</ion-label>
          <ion-input type="tel" [(ngModel)]="newSurvey.telephoneNumber"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label >6. Marriage Status | Estado civil</ion-label>
          <ion-select  [(ngModel)]="newSurvey.marriageStatus" interface ='popover'>
              <ion-option  value="single"> Single | Solter@ </ion-option>
              <ion-option  value="married"> Married | Casad@ </ion-option>
              <ion-option  value="concubine"> Concubine | Concubina </ion-option>
              <ion-option  value="widow"> Widow | Viuda </ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label floating>7. Number of Individuals Living in the House | Numero de personas en la casa</ion-label>
          <ion-input type="number" [(ngModel)]="newSurvey.numberofIndividualsLivingintheHouse"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label floating>8. Number of Children Living in House Under the Age of 5 | Número de hijos menores de 5 años en la casa</ion-label>
          <ion-input type="number" [(ngModel)]="newSurvey.numberofChildrenLivinginHouseUndertheAgeof5"></ion-input>
        </ion-item>
        
        <ion-item>
          <ion-label floating>9. Occupation</ion-label>
          <ion-input type="text" [(ngModel)]="newSurvey.occupation"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label>10. Education Level | Nivel de educacion</ion-label>
          <ion-select text-wrap [(ngModel)]="newSurvey.educationLevel" interface ='popover'>
              <ion-option text-wrap value="lessThanprimary"> Less than Primary | Primaria no terminada</ion-option>
              <ion-option text-wrap value="primary"> Primary | Primaria  </ion-option>
              <ion-option text-wrap value="someHighSchool"> Some High School | Liceo sin terminar</ion-option>
              <ion-option text-wrap value="highschool"> High School | Bachiller</ion-option>
              <ion-option text-wrap value="someCollege"> Some College | Otra educacion superior</ion-option>
              <ion-option text-wrap value="college"> College | Universidad</ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
          <ion-label>11. Name of Community | Nombre de Comunidad</ion-label>
          <ion-input type="text" [(ngModel)]="newSurvey.communityname"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label>12. Years Lived in the community | Años viviendo en la comunidad</ion-label>
          <ion-select [(ngModel)]="newSurvey.yearsLivedinthecommunity" interface ='popover'>
              <ion-option text-wrap value="lessThan1"> Less Than 1 Year | Menos que 1 año </ion-option>
              <ion-option text-wrap value="1-2"> 1-2 Years | 1-2 años  </ion-option>
              <ion-option text-wrap value="3-4"> 3-4 Years | 3-4 años  </ion-option>
              <ion-option text-wrap value="5-10"> 5-10 Years | 5-10 años </ion-option>
              <ion-option text-wrap value="moreThan10"> >10 Years | 10 años  </ion-option>
            </ion-select>
        </ion-item>

        <ion-item>
          <ion-label>13. Are you a member of the following organizations? | Sigue alguna organización?</ion-label>
          <ion-select [(ngModel)]="newSurvey.memberofthefollowingorganizations" multiple="true">
            <ion-option text-wrap value="juntaDeVecino">Junta de Vecino</ion-option>
            <ion-option text-wrap value="ProgresandoConSolidaridad">Progresando con Solidaridad</ion-option>
            <ion-option text-wrap value="Iglesia">Iglesia</ion-option>
          </ion-select>
        </ion-item> 
    </ion-card>

    <!--  Latitude and Longitude  -->
    <ion-card>
      <ion-card-header color="primary-light">
        Location | Ubicación
      </ion-card-header>
      <ion-item>
        <p text-center>Press | Pulsa</p>
        <button ion-button color="primary-light" round block large (click)='getUserPosition()'>{{newSurvey.latitude}}, {{newSurvey.longitude}}</button>
      </ion-item>
    </ion-card>

    <!--  Accessibility TODO-->
    <ion-card>
        <ion-card-header color="primary-light">
          Accessibility | Acceso
        </ion-card-header>
        <ion-item>
          <ion-label>14. How often do you have access to water? | Cuántas veces tiene acceso al agua? </ion-label>
          <ion-select [(ngModel)]="newSurvey.waterAccess" interface ='popover'>
              <ion-option text-wrap value="everyday"> Everyday | Todos los dias  </ion-option>
              <ion-option text-wrap value="4-6AWeek"> 4-6 days a week | 4-6 dias a la semana  </ion-option>
              <ion-option text-wrap value="2-3AWeek"> 2-3 days per week | 2-3 dias a la semana  </ion-option>
              <ion-option text-wrap value="1AWeek"> Less than Or Equal to 1 Day per week  | 1 dia a la semana  </ion-option>
              <ion-option text-wrap value="1AMonth"> 1 Day per month | 1 dia al mes  </ion-option>
              <ion-option text-wrap value="Never"> Never | Nunca </ion-option>
          </ion-select>
        </ion-item>
  
        <ion-item>
          <ion-label>15. What type of water do you drink? | Que tipo de agua toma?</ion-label>
          <ion-select [(ngModel)]="newSurvey.typeofWaterdoyoudrink" interface ='popover'>
              <ion-option text-wrap value="bottled"> Bottled | Botellon </ion-option>
              <ion-option text-wrap value="tap"> Tap | Llave  </ion-option>
          </ion-select>
        </ion-item>

        <ion-item>
            <ion-label>16. Do you have access to a latrine? | Tiene acceso a una letrina o baño? </ion-label>
            <ion-select [(ngModel)]="newSurvey.latrineAccess" interface ='popover'>
                <ion-option text-wrap value="Yes"> Yes | Si </ion-option>
                <ion-option text-wrap value="No"> No </ion-option>
            </ion-select>
          </ion-item>

          <ion-item>
              <ion-label>17. What Type of Health insurance Do you Have? | Que clase de seguro social tiene?</ion-label>
              <ion-select [(ngModel)]="newSurvey.typeofHealthinsuranceDoyouHave" interface ='popover'>
                  <ion-option text-wrap value="public"> Public | Publico </ion-option>
                  <ion-option text-wrap value="private"> Private | Privado </ion-option>
                  <ion-option text-wrap value="neither"> Neither | Ninguno </ion-option>
              </ion-select>
          </ion-item>
          
          <ion-item>
              <ion-label>18. Do you have clinic access? | Tiene acceso a una clinica o un hospital?</ion-label>
              <ion-select [(ngModel)]="newSurvey.clinicAccess" interface ='popover'>
                  <ion-option text-wrap value="Yes"> Yes | Si </ion-option>
                  <ion-option text-wrap value="No"> No </ion-option>
              </ion-select>
          </ion-item>

          <!--ion-item>
              <ion-label floating>19. When you have medical problems, where do you go for help? | Cuándo tiene problemas médicos, dónde va?</ion-label>
              <ion-input type="text" [(ngModel)]="newSurvey.19wheredoyougomedical"></ion-input>
          </ion-item>

          <ion-item>
              <ion-label floating>20. When you have dental problems, where do you go for help? | Cuándo tiene problemas dentales, dónde va?</ion-label>
              <ion-input type="text" [(ngModel)]="newSurvey.20wheredoyougodental"></ion-input>
          </ion-item-->
    </ion-card>

    <!--  Medical Assessment  TODO-->
    <ion-card>
      <ion-card-header>
          Medical Assessment
      </ion-card-header>
      <ion-item-group>
        <ion-item-divider color="primary-light">
            Medical History
        </ion-item-divider>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider color="primary-light">
            Only For Women > 12 | Solo mujeres que tiene menos que 12 años
        </ion-item-divider>
      </ion-item-group>

      <ion-item-group>
        <ion-item-divider color="primary-light">
            Medical Evaluation
        </ion-item-divider>
      </ion-item-group>
    </ion-card>

    <!--  Dental Assessment  TODO-->
    <ion-card>
      <ion-card-header>
        Dental Evaluation
      </ion-card-header>
      <ion-item-group>

      </ion-item-group>
    </ion-card>
    

<!--THIS IS WHERE SURVEY CUTS -->

<!--         Divider               -->
    <!-- Survey-Item Name -->
    <ion-item no-lines>
      <button ion-button icon-left full round color="accent" (click)="postSurveyConfirm()" (click)="presentToast()">
        <ion-icon name="checkmark-circle"></ion-icon>
        Submit | Entrega
      </button>
    </ion-item>

  <ion-list text-wrap overflow-scroll="true">  
<!--         Divider               -->
    <ion-item-divider color="primary">
      Submissions | Entrega
    </ion-item-divider>
  
    <ion-item *ngFor="let surveyPoint of surveyPoints">
      <h2>{{ surveyPoint.get('fname') }}</h2>
      <p>{{ surveyPoint.get('lname') }}</p>
      <p>{{ surveyPoint.get('communityName') }}</p>
    </ion-item>

  </ion-list>

  <ion-infinite-scroll (ionInfinite)="$event.waitFor(listPoints())">
    <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more data...">
    </ion-infinite-scroll-content>
  </ion-infinite-scroll>

</ion-content>


<!--Formats
    Input
    <ion-item>
      <ion-label floating>Item</ion-label>
      <ion-input type="text" [(ngModel)]="newSurvey.item"></ion-input>
    </ion-item>

    Checkbox
    <ion-item>
      <ion-label>Item</ion-label>
      <ion-select [(ngModel)]="newSurvey.item" multiple="true">
        <ion-option text-wrap value=""></ion-option>
        <ion-option text-wrap value=""></ion-option>
        <ion-option text-wrap value=""></ion-option>
        <ion-option text-wrap value=""></ion-option>
      </ion-select>
    </ion-item>

    Multiple Choice
    <ion-item>
      <ion-label>item</ion-label>
      <ion-select [(ngModel)]="newSurvey.item" interface ='popover'>
          <ion-option text-wrap value="X"> X </ion-option>
          <ion-option text-wrap value="Y"> Y </ion-option>
          <ion-option text-wrap value="Y"> Y </ion-option>
          <ion-option text-wrap value="Y"> Y </ion-option>
      </ion-select>
    </ion-item>




-->