<!--
  Generated template for the FindRecordsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header >
  <ion-navbar  color="primary">
    <ion-title text-center text-wrap>{{ 'FINDRECORDS' | translate }}</ion-title>
  </ion-navbar>
  <!--
  <ion-searchbar
    [(ngModel)]="myInput"
    [showCancelButton]="shouldShowCancel"
    (ionInput)="onInput($event)"
    (ionCancel)="onCancel($event)">
  </ion-searchbar>
  -->
  <ion-searchbar ion-text text-wrap [(ngModel)]="searchTerm" [showCancelButton]="shouldShowCancel" (ionInput)="filterItems()" placeholder="{{ 'SEARCHBYFIRSTNAMELASTNAMEUSER' | translate }}"></ion-searchbar>
</ion-header>



<ion-content class="page-background">
  <ion-list [virtualScroll]="filteredCommunityRecords">
    <ion-item *virtualItem="let communityRecord">
      <ion-grid>
        <ion-row>
        <ion-col>
            <h4>{{ 'LICENSENUM' | translate }}: {{ communityRecord.get('cedulaNumber') }}</h4>
            <h1>{{ communityRecord.get('lname') }}, {{ communityRecord.get('fname') }}</h1>
            <h6>{{ communityRecord.get('communityname') }}, {{ communityRecord.get('city') }}</h6>
            <h6>{{ communityRecord.get('province') }}</h6>
        </ion-col>
        <ion-col>
          <button ion-button icon-left full (click)="openConsumerDemographicsEval(communityRecord)">
            <div ion-text text-wrap style="width:100%">{{ 'PATIENTDEMOGRAPHICS' | translate }}</div>
          </button>
          <button ion-button icon-left  full (click)="openConsumerVitalsList(communityRecord)">
            <div ion-text text-wrap>{{ 'VITALS' | translate }}</div>
          </button>
          <button ion-button icon-left  full (click)="openConsumerEnvHistoryList(communityRecord)">
            <div ion-text text-wrap>{{ 'ENVIRONMENTAL' | translate }}</div>
          </button>
          <button ion-button icon-left full (click)="openMedEvalList(communityRecord)">
            <div ion-text text-wrap>{{ 'MEDICAL' | translate }}</div>
          </button>
          <button color="red" ion-button icon-left small full (click)="presentActionSheet(communityRecord.id)">
            <div ion-text text-wrap>{{ 'DESTROY' | translate }}</div>
          </button>
        </ion-col>
        </ion-row>
      </ion-grid>
    </ion-item>

      <!--ion-grid fixed>
        <ion-row>
          <ion-col *ngFor="let communityRecord of filteredCommunityRecords" col-12 >
            <card-flipping class='record-card'>
                <div class="flash-card-front">
                  <h4>{{ 'LICENSENUM' | translate }}: {{ communityRecord.get('cedulaNumber') }}</h4>
                  <h1>{{ communityRecord.get('lname') }}, {{ communityRecord.get('fname') }}</h1>
                  <h4>{{ communityRecord.get('dob') }}, {{ communityRecord.get('sex') }}</h4>
                  <h6>{{ communityRecord.get('communityname') }}, {{ communityRecord.get('city') }}</h6>
                  <h6>{{ communityRecord.get('province') }}</h6>
                  <p color="grey">{{ 'SUBMITTEDBY' | translate }}: {{ communityRecord.get('surveyingUser') }}</p>
                </div>
              
                <div class="flash-card-back">
                  <ion-grid class="card-grid">

                    <ion-row>
                      <ion-col>
                        <button ion-button icon-left small full (click)="openConsumerDemographicsEval(communityRecord)">
                          <ion-icon name="information-circle"></ion-icon>
                          <div ion-text text-wrap>{{ 'PATIENTDEMOGRAPHICS' | translate }}</div>
                        </button>
                      </ion-col>
                    </ion-row>

                    <ion-row>
                      <ion-col>
                        <button ion-button icon-left small full (click)="openConsumerVitalsList(communityRecord)">
                          <ion-icon name="information-circle"></ion-icon>
                          <div ion-text text-wrap>{{ 'VITALS' | translate }}</div>
                        </button>
                      </ion-col>

                      <ion-col>
                        <button ion-button icon-left small full (click)="openConsumerEnvHistoryList(communityRecord)">
                          <ion-icon name="information-circle"></ion-icon>
                          <div ion-text text-wrap>{{ 'ENVIRONMENTAL' | translate }}</div>
                        </button>
                      </ion-col>
                    </ion-row>

                    <ion-row>
                      <ion-col>
                        <button ion-button icon-left small full (click)="openMedEvalList(communityRecord)">
                          <ion-icon name="information-circle"></ion-icon>
                          <div ion-text text-wrap>{{ 'MEDICAL' | translate }}</div>
                        </button>
                      </ion-col>
                    </ion-row>

                    <ion-row>
                      <ion-col>
                        <button color="red" ion-button icon-left small full (click)="presentActionSheet(communityRecord.id)">
                          <ion-icon name="trash"></ion-icon>
                          <div>{{ 'DESTROY' | translate }}</div>
                        </button>
                      </ion-col>
                    </ion-row>

                  </ion-grid>
                </div>
            </card-flipping>
          </ion-col>
        </ion-row>
      </ion-grid-->
  </ion-list>
</ion-content>
